<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MNPOLL Spring 2018: Gun control</title>
  	<meta name="description" content="MNPOLL Spring 2018: Gun Control">
 	<meta name="author" content="Frey Hargarten - StarTribune">
	<meta name="generator" content="BBEdit 10.5" />

	<link rel="stylesheet" href="./styles.bundle.css" type="text/css">

	<style> 
	#wrapper { 
		width:100% !important;
		margin-right:auto;
		margin-left:auto; 
	} 

	.dataframe { 
		height:3100px;
	} 

	.day2 {
		display:none;
	}

	.guns {
		background-color:#7F98AA;
	}

	</style>
	
</head>
<body>
	<div id="wrapper">
	<div id="questions_list">

		<div class="questionBlock section" id="question1">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> stricter gun laws in the United States?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">56</span>%</div>
				  <div class="stat forLabel">support</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">31</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>


			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">A deeply partisan issue</div>
			  <div class="chatter"><span class="legendary d4">Democrats</span> and <span class="legendary green4">independents</span> are much more likely to support stricter gun control laws than <span class="legendary r2">Republicans</span>.</div>
			  <div id="partyChart" class="chart breakchart"></div>
			</div>

		</div>

		<div class="questionBlock section" id="question2">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> training some teachers and allowing them to carry guns in school?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">35</span>%</div>
				  <div class="stat forLabel">support</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">59</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>

		</div>


		<div class="questionBlock section" id="question3">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> raising the legal age to buy a gun from 18 to 21??</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">63</span>%</div>
				  <div class="stat forLabel">support</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">27</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>

<!-- 			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">Varying expectations</div>
			  <div class="chatter"><span class="legendary r2">Republicans</span> are more likely than <span class="legendary d4">Democrats</span> and <span class="legendary green4">independents</span> to expect their taxes to go down under the new law.
			  </div>
			  <div id="taxChart" class="chart"></div>
			</div> -->
		</div>

		<div class="questionBlock section day2" id="question4">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> a proposal in the Minnesota Legislature to make it mandatory to report lost or stolen guns?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">86</span>%</div>
				  <div class="stat forLabel">suppose</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">9</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>
		</div>


		<div class="questionBlock section" id="question5">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> banning military-styled rifles with detachable magazines, such as the AR-15?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">59</span>%</div>
				  <div class="stat forLabel">support</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">31</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>
		</div>

		<div class="questionBlock section day2" id="question6">
			<div class="question">Do you <span class="legendary gray5">support</span> or <span class="legendary gray3">oppose</span> a mandatory criminal background check on all gun sales, including those sold privately and at gun shows?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">90</span>%</div>
				  <div class="stat forLabel">support</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">8</span>%</div>
				  <div class="stat againstLabel">oppose</div>
				</div>
			</div>

			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">Bypartisan support for proposals</div>
			  <div class="chatter"><span class="legendary d4">Democrats</span>, <span class="legendary r2">Republicans</span> and <span class="legendary green4">independents</span> overwhelmingly support measures to account for lost or stolen firearms and institute mandatory background checks.</div>
			  <div id="partyChart2" class="chart breakchart"></div>
			</div>
		</div>

		<div class="questionBlock section" id="question7">
			<div class="question">If more people carried guns, do you believe that your community would be <span class="legendary gray5">safer</span> or <span class="legendary gray3">less safe</span>?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">36</span>%</div>
				  <div class="stat forLabel">safer</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">54</span>%</div>
				  <div class="stat againstLabel">less safe</div>
				</div>
			</div>
		</div>


		<div class="questionBlock section" id="question8">
			<div class="question">Do you think Congress is going <span class="legendary gray5">too far</span> with gun control, is <span class="legendary gray3">not going far enough</span> or is taking just the right approach?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">23</span>%</div>
				  <div class="stat forLabel">too far</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">45</span>%</div>
				  <div class="stat againstLabel">not far enough</div>
				</div>
			</div>

			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">Where gun owners land on gun control</div>
			  <div class="chatter">Polled <span class='legendary guns'>gun owners</span> had varying takes on issues surrounding gun rights.</div>
			  <div id="gunChart" class="chart breakchart"></div>
			</div>
		</div>

		<div class="questionBlock section day2" id="question9">
			<div class="question">Do you think the Minnesota Legislature is going <span class="legendary gray5">too far</span> with gun control, is <span class="legendary gray3">not going far enough</span> or is taking just the right approach?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">20</span>%</div>
				  <div class="stat forLabel">too far</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">41</span>%</div>
				  <div class="stat againstLabel">not going far enough</div>
				</div>
			</div>

			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">Viewpoints of gun owners</div>
			  <div class="chatter">Polled <span class='legendary guns'>gun owners</span> were split on whether the Legislature should do more about gun control.</div>
			  <div id="gunChart2" class="chart breakchart"></div>
			</div>
		</div>


		<div class="questionBlock section" id="question10">
			<div class="question">How worried are you that you yourself or a loved one will be a victim of a mass shooting?  Are you: very worried, <span class="legendary gray5">somewhat worried</span>, <span class="legendary gray3">not too worried</span> or not at all worried.</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">21</span>%</div>
				  <div class="stat forLabel">somewhat worried</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">40</span>%</div>
				  <div class="stat againstLabel">not too worried</div>
				</div>
			</div>
		</div>

		<div class="questionBlock section" id="question11">
			<div class="question">Do you have a <span class="legendary gray5">favorable opinion</span>, <span class="legendary gray3">unfavorable opinion </span> or no opinion of the students from Marjory Stoneman Douglas High School in Florida, who have been speaking out about gun violence?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">52</span>%</div>
				  <div class="stat forLabel">favorable</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">16</span>%</div>
				  <div class="stat againstLabel">unfavorable</div>
				</div>
			</div>
		</div>

		<div class="questionBlock section" id="question12">
			<div class="question">Do you have a <span class="legendary gray5">favorable opinion</span>, <span class="legendary gray3">unfavorable opinion </span> or no opinion of the National Rifle Association?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">35</span>%</div>
				  <div class="stat forLabel">favorable</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">43</span>%</div>
				  <div class="stat againstLabel">unfavorable</div>
				</div>
			</div>

			<div class="sectionBox">
			  <div class="icon"></div>
			  <div class="chartTitle">Taking sides in the gun control debate</div>
			  <div class="chatter">The student survivors of the Stoneman Douglas shooting were more often supported by <span class="legendary d4">Democrats</span> and those <span class="legendary green3">younger than 50</span>, while the NRA drew more support from <span class="legendary r2">Republicans</span> and <span class="legendary guns">gun owners</span>. <span class="legendary green4">Independents</span> were more evenly split.</div>
			  <div id="favorChart" class="chart breakchart"></div>
			</div>
		</div>

		<div class="questionBlock section" id="question13">
			<div class="question">Does anyone in your household own a firearm?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">52</span>%</div>
				  <div class="stat forLabel">yes</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">44</span>%</div>
				  <div class="stat againstLabel">no</div>
				</div>
			</div>
		</div>

		<div class="questionBlock section" id="question14">
			<div class="question">Have you or anyone in your household fired a gun in the last 12 months?</div>
			<div class="bigResults">
				<div class="result">
				  <div class="bigNum forNum"><span class="for">45</span>%</div>
				  <div class="stat forLabel">yes</div>
				</div>
				<div class="result">
				  <div class="bigNum againstNum"><span class="against">54</span>%</div>
				  <div class="stat againstLabel">no</div>
				</div>
			</div>
		</div>


	<div class="breaker" style="border-bottom:3px solid #000; width:100%; margin:0;"></div>

	<div class="section" id="breakdowns">
		<div id="exploreLayer" class="chartTitle" style="text-align:center; padding:10px">Explore the data</div>
		<div style="padding:10px;">Select a question to see a breakdown on the answers across parties, geography and demographics.</div>

		<div id="viewSwitch">
		<div id="selector">
		  <section class="main">
		        <div class="wrapper-demo">
		          <div id="dd" class="wrapper-dropdown-1" tabindex="1">
		            <span id="topQ">Do you support or oppose stricter gun laws in the United States?</span>
		              <ul class="dropdown months" tabindex="1">
				        <li class="thisSwitch"><a href="#" data="guns1">Do you support or oppose stricter gun laws in the United States?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns2">Do you support or oppose training some teachers and allowing them to carry guns in school?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns3">Do you support or oppose raising the legal age to buy a gun from 18 to 21? </a></li>
				        <li class="thisSwitch day2"><a href="#" data="guns4">Do you support or oppose a proposal in the Minnesota Legislature to make it mandatory to report lost or stolen guns?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns5">Do you support or oppose banning military-styled rifles with detachable magazines, such as the AR-15?</a></li>
				        <li class="thisSwitch day2"><a href="#" data="guns6">Do you support or oppose a mandatory criminal background check on all gun sales, including those sold privately and at gun shows?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns7">If more people carried guns, do you believe that your community would be safer or less safe?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns8">Do you think Congress is going too far with gun control, is not going far enough or is taking just the right approach?</a></li>
				        <li class="thisSwitch day2"><a href="#" data="guns9">Do you think the Minnesota Legislature is going too far with gun control, is not going far enough or is taking just the right approach?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns10">How worried are you that you yourself or a loved one will be a victim of a mass shooting?  Are you: very worried, somewhat worried, not too worried or not at all worried.</a></li>
				        <li class="thisSwitch"><a href="#" data="guns11">Do you have a favorable opinion, unfavorable opinion or no opinion of the students from Marjory Stoneman Douglas High School in Florida, who have been speaking out about gun violence?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns12">Do you have a favorable opinion, unfavorable opinion or no opinion of the National Rifle Association?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns13">Does anyone in your household own a firearm?</a></li>
				        <li class="thisSwitch"><a href="#" data="guns14">Have you or anyone in your household fired a gun in the last 12 months?</a></li>
		              </ul>
		          </div>
		        ​</div>
		</section>
		</div>
		</div>

	    <div id="results" class="embed"><iframe id="dataframe" class="dataframe" src="index.html?poll=guns1" border="0" frameborder="0" scrolling="no" width="100%" height="3200"></iframe></div>

	    <div class="byline">Source: Star Tribune Minnesota Poll | Graphic by <a href="http://www.startribune.com/jeff-hargarten/274254381/" target="new_">Jeff Hargarten, Star Tribune</a><!--  | <a href="./builds/production/data/maindata.xlsx" target="new_">Download Data</a></div> -->
	</div>
</div>
	</div>
</body>

<script src="//code.jquery.com/jquery-latest.js"></script>
<script src="js/d3.v3.min.js"></script>
<script src="js/c3.min.js"></script>


<script>
	$.urlParam = function(name) {
	    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
	    if (results != null) {
	        return results[1] || 0;
	    } else {
	        return null;
	    }
	}

	var selected = $.urlParam('chart');

	if (selected != null) {
	    $(".thisSwitch").hide();
	    $(".questionBlock").hide();
	    $("." + selected).show();
	    $("#dataframe").attr("src", "index.html?poll=guns4");
	    $("#topQ").html("Do you support or oppose a proposal in the Minnesota Legislature to make it mandatory to report lost or stolen guns?");
	}

	$(".thisSwitch").on("click", function() {
	    $("#dataframe").attr("src", "index.html?poll=" + $(this).find("a").attr("data"));
	});

	//party breakdown chart
	function partyChart() {

	    var padding = {
	        top: 20,
	        right: 60,
	        bottom: 20,
	        left: 40,
	    };

	    var partyChart = c3.generate({
	        bindto: "#partyChart",
	        padding: padding,
	        data: {
	            columns: [
	                ['DEM', 0.86],
	                ['GOP', 0.26],
	                ['IND', 0.52]
	            ],
	            type: 'bar',
	            labels: {
	                format: {
	                    'DEM': d3.format('%'),
	                    'GOP': d3.format('%'),
	                    'IND': d3.format('%')
	                }
	            }
	        },
	        legend: {
	            show: false
	        },
	        bar: {
	            width: {
	                ratio: 0.6
	            }
	        },
	        tooltip: {
	            show: false
	        },
	        color: {
	            pattern: ['#3585BC', '#d34A44', "#8b62a8"]
	        },
	        axis: {
	            // rotated: true,
	            y: {
	                max: 1,
	                min: 0,
	                padding: {
	                    bottom: 0,
	                    top: 0
	                },
	                tick: {
	                    count: 4,
	                    values: [0, 0.25, 0.50, 0.75, 1],
	                    format: d3.format('%')
	                }
	            },
	            x: {
	                type: 'category',
	                categories: ['% supporting stricter gun laws']
	            }
	        },
	        grid: {
	            y: {
	                lines: [{
	                    value: 0.5,
	                    text: '',
	                    position: 'start',
	                    class: 'powerline'
	                }]
	            }
	        }

	    });

	    d3.selectAll(".c3-target-DEM")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(-10, 0)");

	    d3.selectAll(".c3-target-IND")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(10, 0)");

	}

	partyChart();

	function partyChart2() {

	    var padding = {
	        top: 20,
	        right: 60,
	        bottom: 20,
	        left: 40,
	    };

	    var partyChart = c3.generate({
	        bindto: "#partyChart2",
	        padding: padding,
	        data: {
	            columns: [
	                ['DEM', 0.90, 0.96],
	                ['GOP', 0.86, 0.86],
	                ['IND', 0.80, 0.86]
	            ],
	            type: 'bar',
	            labels: {
	                format: {
	                    'DEM': d3.format('%'),
	                    'GOP': d3.format('%'),
	                    'IND': d3.format('%')
	                }
	            }
	        },
	        legend: {
	            show: false
	        },
	        bar: {
	            width: {
	                ratio: 0.6
	            }
	        },
	        tooltip: {
	            show: false
	        },
	        color: {
	            pattern: ['#3585BC', '#d34A44', "#8b62a8"]
	        },
	        axis: {
	            // rotated: true,
	            y: {
	                max: 1,
	                min: 0,
	                padding: {
	                    bottom: 0,
	                    top: 3
	                },
	                tick: {
	                    count: 4,
	                    values: [0, 0.25, 0.50, 0.75, 1],
	                    format: d3.format('%')
	                }
	            },
	            x: {
	                type: 'category',
	                categories: ['% supporting lost or stolen gun proposal', '% supporting mandatory background checks']
	            }
	        },
	        grid: {
	            y: {
	                lines: [{
	                    value: 0.5,
	                    text: '',
	                    position: 'start',
	                    class: 'powerline'
	                }]
	            }
	        }

	    });

	    d3.selectAll(".c3-target-DEM")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(-10, 0)");

	    d3.selectAll(".c3-target-IND")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(10, 0)");

	}

	partyChart2();

	//gun breakdown chart
	function gunChart() {

	    var padding = {
	        top: 20,
	        right: 60,
	        bottom: 20,
	        left: 120,
	    };

	    var gunChart = c3.generate({
	        bindto: "#gunChart",
	        padding: padding,
	        data: {
	            columns: [
	                ['Owns guns', 0.32, 0.39, 0.44, 0.49, 0.51, 0.53, 0.87]
	            ],
	            type: 'bar',
	            labels: {
	                format: {
	                    'Owns guns': d3.format('%')
	                }
	            }
	        },
	        legend: {
	            show: false
	        },
	        bar: {
	            width: {
	                ratio: 0.6
	            }
	        },
	        tooltip: {
	            show: false
	        },
	        color: {
	            pattern: ['#7F98AA']
	        },
	        axis: {
	            rotated: true,
	            y: {
	                max: 1,
	                min: 0,
	                padding: {
	                    bottom: 0,
	                    top: 0
	                },
	                tick: {
	                    count: 4,
	                    values: [0, 0.25, 0.50, 0.75, 1],
	                    format: d3.format('%')
	                }
	            },
	            x: {
	                type: 'category',
	                categories: ['congress gone too far','arming teachers','AR-15-style ban','stricter gun laws','more guns = safety','raise purchasing age', 'background checks',],
	                tick: {
	                	multiline: false
	                }
	            }
	        },
	        grid: {
	            y: {
	                lines: [{
	                    value: 0.5,
	                    text: '',
	                    position: 'start',
	                    class: 'powerline'
	                }]
	            }
	        }

	    });

	    d3.selectAll(".c3-target-DEM")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(-10, 0)");

	    d3.selectAll(".c3-target-IND")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(10, 0)");

	}

	gunChart();

	//gun breakdown chart
	function gunChart2() {

	    var padding = {
	        top: 20,
	        right: 60,
	        bottom: 20,
	        left: 120,
	    };

	    var gunChart2 = c3.generate({
	        bindto: "#gunChart2",
	        padding: padding,
	        data: {
	            columns: [
	                ['Owns guns', 0.26, 0.33, 0.27, 0.14]
	            ],
	            type: 'bar',
	            labels: {
	                format: {
	                    'Owns guns': d3.format('%')
	                }
	            }
	        },
	        legend: {
	            show: false
	        },
	        bar: {
	            width: {
	                ratio: 0.6
	            }
	        },
	        tooltip: {
	            show: false
	        },
	        color: {
	            pattern: ['#7F98AA']
	        },
	        axis: {
	            rotated: true,
	            y: {
	                max: 1,
	                min: 0,
	                padding: {
	                    bottom: 0,
	                    top: 0
	                },
	                tick: {
	                    count: 4,
	                    values: [0, 0.25, 0.50, 0.75, 1],
	                    format: d3.format('%')
	                }
	            },
	            x: {
	                type: 'category',
	                categories: ['going too far', 'not far enough', 'about right', 'not sure'],
	                tick: {
	                	multiline: false
	                }
	            }
	        },
	        grid: {
	            y: {
	                lines: [{
	                    value: 0.5,
	                    text: '',
	                    position: 'start',
	                    class: 'powerline'
	                }]
	            }
	        }

	    });

	    d3.selectAll(".c3-target-DEM")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(-10, 0)");

	    d3.selectAll(".c3-target-IND")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(10, 0)");

	}

	gunChart2();


	function favorChart() {

	    var padding = {
	        top: 20,
	        right: 60,
	        bottom: 20,
	        left: 40,
	    };

	    var favorChart = c3.generate({
	        bindto: "#favorChart",
	        padding: padding,
	        data: {
	            columns: [
	                ['DEM', 0.88, 0.10],
	                ['GOP', 0.17, 0.73],
	                ['IND', 0.45, 0.49],
	                ['GUNS', 0.38, 0.46],
	                ['AGE', 0.58, 0.29]

	            ],
	            type: 'bar',
	            labels: {
	                format: {
	                    'DEM': d3.format('%'),
	                    'GOP': d3.format('%'),
	                    'IND': d3.format('%'),
	                    'GUNS': d3.format('%'),
	                    'AGE': d3.format('%')
	                }
	            }
	        },
	        legend: {
	            show: false
	        },
	        bar: {
	            width: {
	                ratio: 0.6
	            }
	        },
	        tooltip: {
	            show: false
	        },
	        color: {
	            pattern: ['#3585BC', '#d34A44', "#8b62a8", "#7F98AA", "#5BBF48"]
	        },
	        axis: {
	            // rotated: true,
	            y: {
	                max: 1,
	                min: 0,
	                padding: {
	                    bottom: 0,
	                    top: 3
	                },
	                tick: {
	                    count: 4,
	                    values: [0, 0.25, 0.50, 0.75, 1],
	                    format: d3.format('%')
	                }
	            },
	            x: {
	                type: 'category',
	                categories: ['% supporting student activists', '% supporting NRA']
	            }
	        },
	        grid: {
	            y: {
	                lines: [{
	                    value: 0.5,
	                    text: '',
	                    position: 'start',
	                    class: 'powerline'
	                }]
	            }
	        }

	    });

	    d3.selectAll(".c3-target-DEM")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(-10, 0)");

	    d3.selectAll(".c3-target-IND")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(10, 0)");

	    d3.selectAll(".c3-target-GUNS")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(20, 0)");

	    d3.selectAll(".c3-target-AGE")
	        .selectAll(".c3-bar, .c3-texts")
	        .attr("transform", "translate(30, 0)");

	}

	favorChart();


	function DropDown(el) {
	    this.dd = el;
	    this.placeholder = this.dd.children('span');
	    this.opts = this.dd.find('ul.dropdown > li');
	    this.val = '';
	    this.index = -1;
	    this.initEvents();
	}
	DropDown.prototype = {
	    initEvents: function() {
	        var obj = this;

	        obj.dd.on('click', function(event) {
	            $(this).toggleClass('active');
	            return false;
	        });

	        obj.opts.on('click', function() {
	            var opt = $(this);
	            obj.val = opt.text();
	            obj.index = opt.index();
	            obj.placeholder.text(obj.val);
	        });
	    },
	    getValue: function() {
	        return this.val;
	    },
	    getIndex: function() {
	        return this.index;
	    }
	}

	$(function() {

	    var dd = new DropDown($('#dd'));
	    var dd2 = new DropDown($('#ddY'));

	    $(document).click(function() {
	        // all dropdowns
	        $('.wrapper-dropdown-1').removeClass('active');
	    });

	});
</script>
</html>